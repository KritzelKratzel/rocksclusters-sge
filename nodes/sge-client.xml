<?xml version="1.0" standalone="no"?>

<kickstart>

	<description>

	Sun Grid Engine execd daemon configuration. 

	</description>

	<changelog>
	$Log: sge-client.xml,v $
	Revision 1.16  2008/11/30 19:32:48  anoop
	Added support for SGE on Solaris
	
	Revision 1.15  2005/08/31 22:30:31  bruno
	make sge configuration during the first boot quiet
	
	Revision 1.14  2005/08/24 23:34:43  bruno
	update to sge6
	
	Revision 1.2  2005/04/05 04:03:17  tsailm
	Minor fixes for the missing file tag
	
	Revision 1.1  2005/03/29 03:04:23  tsailm
	Initial checkin for sge6
	

	</changelog>

<post>

<!--
	copy the qmaster configuration files from the frontend to the 
	execution hosts on the compute nodes
-->

mkdir -p /opt/gridengine/default/spool
mkdir -p /opt/gridengine/default/common

<file name="/opt/gridengine/default/common/act_qmaster" perms="0444">
<eval>
cat /opt/gridengine/default/common/act_qmaster
</eval>
</file>

<file name="/opt/gridengine/default/common/configuration" perms="0444">
<eval>
cat /opt/gridengine/default/common/configuration
</eval>
</file>

<file name="/opt/gridengine/default/common/settings.sh" perms="0444">
<eval>
cat /opt/gridengine/default/common/settings.sh
</eval>
</file>

<file name="/opt/gridengine/default/common/settings.csh" perms="0444">
<eval>
cat /opt/gridengine/default/common/settings.csh
</eval>
</file>

<file name="/opt/gridengine/default/common/bootstrap" perms="0444">
<eval>
cat /opt/gridengine/default/common/bootstrap
</eval>
</file>

<file name="/opt/gridengine/default/common/sgeexecd" perms="0755">
<eval>
cat /opt/gridengine/default/common/sgeexecd
</eval>
</file>
</post>

<post os="linux">
<file name="/etc/rc.d/rocksconfig.d/post-91-sge-execd" perms="0755">
#!/bin/bash

export SGE_ROOT=/opt/gridengine

mkdir -p $SGE_ROOT/default/spool/qmaster

# sets the ownership to sge user
chown -R 400.400 $SGE_ROOT

# sets up the execution node 
cd $SGE_ROOT &amp;&amp; \
	./inst_sge -noremote -x -auto \
	./util/install_modules/sge_configuration.conf &gt; /dev/null 2&gt;&amp;1

rm /etc/rc.d/rocksconfig.d/post-91-sge-execd
</file>
</post>

<post os="sunos">
sysidconfig -a /opt/gridengine/share/sge_exec_setup.sh
mkdir -p /var/svc/manifest/network/sge/
cp /opt/gridengine/share/sge_exec.xml /var/svc/manifest/network/sge/execd.xml
<service name="network/sge/execd" enabled="yes"/>

</post>

</kickstart>
